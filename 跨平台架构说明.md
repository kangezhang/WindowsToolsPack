# å·¥å…·ç®± v2.0 - è·¨å¹³å°æ¶æ„

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. æ™ºèƒ½ç³»ç»Ÿé€‚é…
- è‡ªåŠ¨æ£€æµ‹è¿è¡Œç³»ç»Ÿ (Windows/macOS/Linux)
- æ ¹æ®ç³»ç»ŸåŠ è½½å¯¹åº”åŠŸèƒ½å®ç°
- Windows â†’ ä»»åŠ¡æ æ‰˜ç›˜
- macOS â†’ èœå•æ åº”ç”¨

### 2. ç»Ÿä¸€æƒé™ç®¡ç†
**Windows**: UAC è‡ªåŠ¨ææƒ
**macOS**: osascript æƒé™è¯·æ±‚
â†’ ä¸€ä¸ªæ¥å£,å¤šå¹³å°å®ç°

### 3. åŠŸèƒ½æ¨¡å—åŒ–
æ¯ä¸ªå·¥å…·åˆ†ç¦» Windows å’Œ macOS å®ç°:
```
WindowsFeature  â†â†’  MacOSFeature
         â†“               â†“
    Feature.create() å·¥å‚æ–¹æ³•
```

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

### system_detector.py
- SystemType æšä¸¾
- ç³»ç»Ÿæ£€æµ‹
- é…ç½®è·¯å¾„ç®¡ç†

### permission_manager.py
- Windows: UAC
- macOS: root + osascript

### autostart_manager.py
- Windows: å¯åŠ¨æ–‡ä»¶å¤¹å¿«æ·æ–¹å¼
- macOS: LaunchAgent plist

### tray_manager.py
- Windows: pystray
- macOS: rumps

### feature_base.py
åŠŸèƒ½åŸºç±»å®šä¹‰:
- WindowsFeatureBase
- MacOSFeatureBase
- CrossPlatformFeatureBase

## ğŸ›  æ·»åŠ æ–°å·¥å…·

### 1. åˆ›å»º features/new_tool.py
```python
class WindowsNewTool(WindowsFeatureBase):
    def is_installed(self): pass
    def install(self, exe_path): pass
    def uninstall(self): pass

class MacOSNewTool(MacOSFeatureBase):
    # åŒä¸Š

class NewTool:
    @staticmethod
    def create():
        if SystemDetector.is_windows():
            return WindowsNewTool()
        elif SystemDetector.is_macos():
            return MacOSNewTool()
```

### 2. æ³¨å†Œåˆ° app/toolbox_app.py
```python
self.features = {
    'copy_path': CopyPathFeature.create(),
    'new_tool': NewTool.create(),
}
```

å®Œæˆï¼è‡ªåŠ¨å‡ºç°åœ¨èœå•ä¸­

## ğŸ¯ ç³»ç»Ÿç‰¹å®šåŠŸèƒ½

### ä»… Windows
- å³é”®èœå•ç®¡ç†å™¨
- æ³¨å†Œè¡¨æ“ä½œ

### ä»… macOS  
- Finder æ‰©å±•
- Automator æœåŠ¡

### è·¨å¹³å°
- å‰ªè´´æ¿ç®¡ç†
- æ–‡ä»¶æ“ä½œ
- åå¥½è®¾ç½®

## ğŸ“ é…ç½®ç®¡ç†

```python
from core.system_detector import SystemConfig

config_dir = SystemConfig.get_config_dir()
# Windows: %APPDATA%\ToolBox
# macOS: ~/Library/Application Support/ToolBox
```

## ğŸš€ æ‰“åŒ…

**Windows**: `pyinstaller --onefile --windowed --icon=icon.ico main.py`
**macOS**: `pyinstaller --onefile --windowed --icon=icon.icns main.py`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. macOS éœ€è¦è¾…åŠ©åŠŸèƒ½æƒé™
2. ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç 
3. è·¯å¾„ä½¿ç”¨ os.path ä¿è¯å…¼å®¹
4. æµ‹è¯•ä¸¤ä¸ªå¹³å°çš„æ‰€æœ‰åŠŸèƒ½
5. macOS å‘å¸ƒéœ€è¦ä»£ç ç­¾å